# Validation of the basic test handling framework.

Basic Parsing:
  endpoint:
    service id: fff
    endpont id: ffff
    endpoint name: fake

    pre-processor configuration:
      a: b

    post-processor configuration:
      c: d

  cases:

    can parse traffic manager actions correctly:
      expect traffic manager:
        set complete: true
        status code: 403
        status message: "Unit test validation"
        body: AAAA-FFFF

    can parse client request correctly:
      client:
        remote address: 127.0.0.2
        http verb: GET
        uri: https://api-unitttest.airfranceklm.com/fff?myQuery=123
        headers:
          A: B
          # Multiple headers with the same name.
          C:
          - C1
          - C2
        body: AAAA

    can parse client reference to another case:
      client:
        as in: "can parse client request correctly"

    can parse key information correctly:
      client:
        as in: "can parse client request correctly"

      key:
        package key: dfgf
        application:
          name: the-app
          extended attributes:
            a: b
            c: d

    can parse authorization context correctly:
      client:
        as in: "can parse client request correctly"

      key:
        as in: "can parse key information correctly"

      authorization context:
        scope: "12345"
        user context: "456"
        grant type: CC

    can parse request to api origin correctly:
      client:
        as in: can parse client request correctly

      key:
        as in: can parse key information correctly

      authorization context:
        as in: can parse authorization context correctly

      request to the api provider:
        provider uri: https://docker.kml/backend/url?myQuery=ffff
        dropped headers:
          - C
          - D
        added headers:
          E: F
          G:
            - H
            - I
            - J